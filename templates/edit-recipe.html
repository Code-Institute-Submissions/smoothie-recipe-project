{% extends 'base.html'%} {% block content %}

<h3>Edit Recipe</h3>
<div class="row">
    <form action="{{url_for('insert_recipe')}}" method="POST" class="col s12">
        <div class="row">
            <div class="input-field col s12 m6">
                <i class="material-icons prefix">title</i>
                <input id="name_of_recipe" name="name_of_recipe" type="text" class="validate" value="{{recipe.name_of_recipe}}">
                <label for="icon_prefix">Recipe Name</label>
            </div>
            <div class="input-fields col s12 m6">
                <i class="material-icons prefix">account_circle</i>
                <input id="author" name="author" type="text" class="validate" value="{{recipe.author}}">
                <label for="icon_prefix">Author Name</label>
            </div>
            <div class="input-field col s12 m6">
                <i class="material-icons prefix">people_outline</i>
                <input id="serves" name="serves" type="text" class="validate" value="{{recipe.serves}}">
                <label for="icon_prefix">Serves</label>
            </div>
            <div class="input-field col s12 m6">
                <i class="material-icons prefix">filter_drama</i>
                <select id="season" name="season">
                  <option value="" disabled selected>Choose Season</option>
                  {% for season in seasons %}
                      {% if season.season == recipe.season %}
                    <option value="{{season.season}}" selected >{{season.season}}</option>
                      {% else %}
                    <option value="{{season.season}}">{{season.season}}</option>
                      {% endif %}
                  {% endfor %}
                </select>
            </div>
            <div class="row field_wrapper">
                <div class="input-field col s12">
                    <i class="material-icons prefix">local_grocery_store</i> {% for ingred in recipe.ingredients %}
                    <input type="text" name="ingredients" value="{{ ingred }}" />
                    <a href="javascript:void(0);" class="add_button validate"><i class="material-icons prefix">add</i></a> {% endfor %}
                </div>
            </div>
            <div class="input-field col s12 m6">
                <i class="material-icons prefix">timer</i>
                <input id="time_taken" name="time_taken" type="text" class="validate" value="{{recipe.time_taken}}">
                <label for="icon_prefix">Time Taken</label>
            </div>
            <div class="input-field col s12 m6">
                <i class="material-icons prefix">keyboard_arrow_right</i>
                <select>
                    <option value="Difficulty Rating" disabled selected>Select Difficulty</option>
                    {% for difficulty in difficulty_rating %}
                        {% if difficulty.difficulty_rating == recipe.difficulty_rating %}
                        <option value="{{difficulty.difficulty_rating}}"selected>{{difficulty.difficulty_rating}}</option>
                        {% else %}
                        <option value="{{difficulty.difficulty_rating}}">{{difficulty.difficulty_rating}}</option>
                        {% endif %}
                    {% endfor %}}
                </select>
                <label>Difficulty Rating</label>
            </div>
            <div class="row">
                <div class="input-field method_field col s12">
                    <i class="material-icons prefix">description</i> {% for method in recipe.method %}
                    <textarea name="method" id="method" class="materialize-textarea">{{ method }}</textarea>
                    <label for="icon_prefix">Method</label>
                </div>
                <a href="javascript:void(0);" class="add_method_button validate"><i class="material-icons prefix">add</i></a> {% endfor %}

            </div>
            <div class="input-field col s12 m6">
                <i class="material-icons prefix">grade</i>
                <select>
                     <option value="Rate Recipe" disabled selected>Rate this Recipe</option>
                     {% for star in star_rating %}
                         {% if star.star_rating_value == recipe.star_rating_value %}
                      <option value="{{star.star_rating_value}}" selected>{{star.star_rating_value}}</option>
                         {% else %}
                      <option value="{{star.star_rating_value}}">{{star.star_rating_value}}</option>
                         {% endif %}
                     {% endfor %}               
                </select>
                <label>Star Rating</label>
            </div>
            <div class="input-field col s12 m6">
                <i class="material-icons prefix">local_dining</i>
                <select multiple>
                    <option value="Allegens" disabled selected>Select Dietary Info</option>
                    {% for diet in dietary_requirements %}
                         {% if diet.dietary_requirement_type == recipe.dietary_requirement_type %}
                         <option value="{{diet.dietary_requirement_type}}" selected>{{diet.dietary_requirement_type}}</option>
                         {% else %}
                         <option value="{{diet.dietary_requirement_type}}">{{diet.dietary_requirement_type}}</option>
                         {% endif %}
                    {% endfor %}
                </select>
                <label>Dietry Requirements</label>
            </div>

            <div class="row">
                <button class="btn waves-effect waves-light" type="submit" name="action">Save Recipe
                    <i class="material-icons right">playlist_add</i>
                </button>
            </div>
        </div>
    </form>
</div>

{% endblock %}
